<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Your Site Name] - Rust Jackpot</title> <link rel="stylesheet" href="style.css"> <script src="/socket.io/socket.io.js"></script>
    </head>
<body>

    <header class="site-header">
        <div class="header-content">
            <div class="logo-container">
                <a href="#" id="home-link-logo">[Your Site Name]</a>
            </div>

            <nav class="main-nav">
                <ul>
                    <li><a href="#" id="home-link" class="active">Home</a></li>
                    <li><a href="#" id="faq-link">FAQ</a></li>
                    <li><a href="#" id="fair-link">Fair</a></li>
                    <li><a href="#" id="about-link">About</a></li>
                    <li><a href="#" id="tos-link">TOS</a></li>
                </ul>
            </nav>

            <div class="user-area">
                <button id="loginButton" class="btn btn-primary">Sign in through Steam</button>
                <div id="userProfile" style="display: none;" class="user-profile-container" aria-haspopup="true" aria-expanded="false" tabindex="0">
                    <img id="userAvatar" src="/img/default-avatar.png" alt="User Avatar" class="user-avatar-img"> <span id="userName">Username</span>
                    <span class="dropdown-arrow">â–¼</span>
                    <div id="userDropdownMenu" class="dropdown-menu" style="display: none;">
                         <button id="logoutButton" class="btn btn-secondary">Sign Out</button>
                         </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-container">

        <div id="home-page" class="page-container">
            <div class="page-content home-content">
                <div id="jackpotHeader" class="jackpot-header-container">
                    <div class="jackpot-value">
                        <h2>Total Pot Value</h2>
                        <span id="potValue">$0.00</span>
                    </div>
                    <div class="jackpot-timer">
                         <svg class="timer-svg" viewBox="0 0 100 100">
                            <circle class="timer-background" cx="50" cy="50" r="45"></circle>
                            <circle class="timer-foreground" cx="50" cy="50" r="45"></circle>
                         </svg>
                         <span id="timerValue" class="timer-text">99</span>
                    </div>
                    <div class="jackpot-stats">
                        <h2>Participants</h2>
                        <span id="participantCount">0/20</span>
                        </div>
                </div>

                <div id="inlineRoulette" class="inline-roulette-container" style="display: none;">
                    <div class="roulette-viewport">
                        <div class="roulette-marker"></div>
                         <div class="roulette-container">
                            <div id="rouletteTrack" class="roulette-track">
                                </div>
                        </div>
                    </div>
                     <div id="winnerInfo" class="winner-info-box" style="display: none;">
                        <img id="winnerAvatar" src="/img/default-avatar.png" alt="Winner Avatar">
                        <div class="winner-details">
                            <span id="winnerName">Winner Name</span>
                            <span class="winner-label">Value: <span id="winnerDeposit">$0.00</span></span>
                            <span class="winner-label">Chance: <span id="winnerChance">0.00%</span></span>
                        </div>
                        </div>
                    <div id="confettiContainer" class="confetti-container"></div>
                </div>

                <div id="itemsContainer" class="participants-container">
                    <p id="emptyPotMessage" class="empty-message">The pot is empty. Be the first to deposit!</p>
                    </div>

                <div class="deposit-action-area">
                     <button id="showDepositModal" class="btn btn-primary btn-deposit">Deposit Items</button>
                </div>

                <div class="test-controls" style="margin-top: 20px; display: none;"> <button id="testSpinButton" class="btn btn-secondary">Test Spin</button>
                    <button id="testDepositButton" class="btn btn-secondary">Test Deposit</button>
                </div>

            </div>
        </div>

        <div id="faq-page" class="page-container" style="display: none;">
            <div class="page-content">
                <h1>Frequently Asked Questions</h1>
                <h2>How does the jackpot work?</h2>
                <p>Users deposit items, and their value contributes to the total pot and determines their chance of winning. A winner is drawn when the timer ends or participant/item limits are reached.</p>
                <h2>How is item value determined?</h2>
                <p>[Explain your item valuation method here - e.g., based on average prices from X market over Y time.]</p>
                <h2>Is it fair?</h2>
                <p>Yes, our system uses a provably fair algorithm. You can verify the results of past rounds on the 'Fair' page.</p>
                </div>
        </div>

        <div id="fair-page" class="page-container" style="display: none;">
            <div class="page-content">
                <h1>Provably Fair</h1>
                <p>Our jackpot system uses a provably fair algorithm to determine the winner, ensuring transparency and fairness. Each round's outcome is determined by a combination of a Server Seed (generated by us before the round starts) and a Client Seed (often derived from participants or blockchain data, revealed later). Neither party can predict the outcome alone.</p>

                <h2>Round History</h2>
                <div class="table-container">
                    <table class="rounds-table">
                        <thead>
                            <tr>
                                <th>Round ID</th>
                                <th>Ended At</th>
                                <th>Pot Value</th>
                                <th>Winner</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="rounds-table-body">
                            <tr><td colspan="5" class="loading-message">Loading round history...</td></tr>
                        </tbody>
                    </table>
                </div>
                <div id="rounds-pagination" class="pagination">
                    </div>

                <div id="provably-fair-verification" class="verification-section">
                    <h2>Verify a Round</h2>
                    <p>You can independently verify the outcome of any completed round using the data below (revealed after the round ends).</p>
                    <div class="form-group">
                        <label for="round-id">Round ID:</label>
                        <input type="text" id="round-id" name="round-id" placeholder="Enter Round ID">
                    </div>
                    <div class="form-group">
                        <label for="server-seed">Server Seed:</label>
                        <input type="text" id="server-seed" name="server-seed" placeholder="Enter Server Seed (revealed after round)">
                    </div>
                    <div class="form-group">
                        <label for="client-seed">Client Seed:</label>
                        <input type="text" id="client-seed" name="client-seed" placeholder="Enter Client Seed">
                    </div>
                    <button id="verify-btn" class="btn btn-primary">Verify Round</button>
                    <div id="verification-result" class="verification-result" style="display: none;">
                        </div>
                     <p><small>Verification uses a combination of seeds (e.g., HMAC-SHA256 or similar) to generate a hash, which determines the winning ticket number.</small></p>
                </div>
            </div>
        </div>

        <div id="about-page" class="page-container" style="display: none;">
             <div class="page-content">
                <h1>About Us</h1>
                <p>Welcome to [Your Site Name]! We are passionate Rust players aiming to provide a fun and fair jackpot experience for the community.</p>
                <p>[Add more details about your site, mission, team, etc.]</p>
            </div>
        </div>

        <div id="tos-page" class="page-container" style="display: none;">
             <div class="page-content tos-content"> <h1>Terms of Service</h1>
                 <p><em>Last Updated: April 23, 2025</em></p>
                 <p>Welcome to [Your Site Name]! ... [REST OF TOS CONTENT] ...</p>
                 <p>If you have any questions about these Terms, please contact us at: [Your Contact Email]</p>
                 </div>
        </div>

    </main>

    <div id="ageVerificationModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Age Verification</h2>
            <p>Please confirm that you are 18 years of age or older and agree to our Terms of Service to continue.</p>
            <div class="form-check">
                 <input type="checkbox" id="agreeCheckbox">
                 <label for="agreeCheckbox">I am 18 years or older and agree to the <a href="#" onclick="document.getElementById('tos-link').click(); return false;">Terms of Service</a>.</label> </div>
            <button id="agreeButton" class="btn btn-primary" disabled>Agree and Continue</button>
        </div>
    </div>

    <div id="tradeUrlModal" class="modal" style="display: none;">
         <div class="modal-content">
             <button id="closeTradeUrlModal" class="modal-close-btn">&times;</button>
            <h2>Set Your Steam Trade URL</h2>
            <p>Please provide your full Steam Trade URL. This is required for receiving winnings. You can find it <a href="https://steamcommunity.com/id/me/tradeoffers/privacy#trade_offer_access_url" target="_blank" rel="noopener noreferrer">here</a>.</p>
            <div class="form-group">
                <label for="tradeUrlInput">Trade URL:</label>
                <input type="url" id="tradeUrlInput" placeholder="https://steamcommunity.com/tradeoffer/new/?partner=...">
            </div>
            <button id="saveTradeUrl" class="btn btn-primary">Save Trade URL</button>
        </div>
    </div>

    <div id="depositModal" class="modal" style="display: none;">
        <div class="modal-content deposit-modal-content">
            <button id="closeDepositModal" class="modal-close-btn">&times;</button>
            <h2>Deposit Items</h2>
            <div class="deposit-interface">
                <div class="inventory-section">
                    <h3>Your Inventory</h3>
                    <div id="inventory-loading" style="display: none;" class="loading-indicator">Loading...</div>
                    <div id="inventory-items" class="item-grid inventory-items-grid">
                        </div>
                </div>
                <div class="selection-section">
                    <h3>Selected Items (<span id="selectedCount">0</span>/<span id="maxSelectable">20</span>)</h3>
                    <div id="selectedItems" class="item-grid selected-items-grid">
                        </div>
                    <div class="deposit-summary">
                        <span>Total Value:</span>
                        <span id="totalValue">$0.00</span>
                    </div>
                     <button id="depositButton" class="btn btn-primary" disabled>Deposit Items</button>
                </div>
            </div>
        </div>
    </div>

    <div id="notification-bar" class="notification-bar">
        </div>

    <audio id="spinSound" src="/audio/spin.mp3" preload="auto"></audio> <audio id="depositSound" src="/audio/deposit.mp3" preload="auto"></audio> <script src="main.js"></script> </body>
</html>
